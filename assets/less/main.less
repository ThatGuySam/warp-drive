// Bootstrap
@import "_bootstrap";

// Variable overrides and custom variables
@import "_variables";


// Roots
@import "_global";                   // Base styling & custom mixins
@import "components/_buttons";       // Button tweaks
@import "components/_forms";         // Form tweaks
@import "components/_media";         // WordPress media
@import "components/_wp-classes";    // WordPress generated classes
@import "layouts/_general";          // General styling
@import "layouts/_header";           // Header styling
@import "layouts/_sidebar";          // Sidebar styling
@import "layouts/_footer";           // Footer styling
@import "layouts/_pages";            // Page styling
@import "layouts/pages/_home";       // Home page styling
@import "layouts/_posts";            // Post styling


// Custom


@import "../vendor/font-awesome/less/font-awesome";		// Font Awesome

@import (inline) "../vendor/slick.js/slick/slick.css";
@import (inline) "../vendor/selection-sharer/dist/selection-sharer.css"; 
@import (inline) "../vendor/animate.css/animate.min.css";



// Material
@import "material/material";							// Material Design
@import "material/ripples";								// Material Ripple


@import "icon-font";									// Icon Font
@import "elements";										// Elements

/* Import Visual Composer Styles */
@import (inline) "../../../../plugins/js_composer/assets/css/js_composer.css"; 


/*

Variables

*/


@guts-red: #a20000;

@primary-light: #d8d8d8;
@off-white: @primary-light;

@secondary-light: #eaeaea;

@primary-dark: #323232;

@off-black: @primary-dark;

@secondary-dark: #4d4d4d;

//@tertiary-dark: #4d4d4d

@primary-font: "Lato","Helvetica Neue",Helvetica,Arial,sans-serif;

@body-font: "Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;





@link-color:		@primary-dark;

@link-hover-color:	@secondary-dark;


/*

Mixins

*/


.backgroundRGBa(@colour: @primary-dark, @alpha: 1.0) {
	@alphaColour: hsla(hue(@colour), saturation(@colour), lightness(@colour), @alpha);
	@ieAlphaColour: argb(@alphaColour);
	
	background-color: @colour; // Fallback for older browsers
	background-color: @alphaColour; 
	
	// IE hacks
	zoom: 1; // hasLayout
	background-color: transparent\9;
	
}

.scrim() {	
	background: -moz-linear-gradient(top,  rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%);
	background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,0,0,0)), color-stop(100%,rgba(0,0,0,1)));
	background: -webkit-linear-gradient(top,  rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%);
	background: -o-linear-gradient(top,  rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%);
	background: -ms-linear-gradient(top,  rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%);
	background: linear-gradient(to bottom,  rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%);
	filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#000000',GradientType=0 );
}


.transition-delay( @delay ){
	-webkit-transition-delay: @delay;
	   -moz-transition-delay: @delay;
	   	 -o-transition-delay: @delay;
	   	 	transition-delay: @delay;
}


.transition( @property:all, @duration:500ms, @delay:0 ) {
	-webkit-transition: @property @duration cubic-bezier(0.230, 1.000, 0.320, 1.000); 
	   -moz-transition: @property @duration cubic-bezier(0.230, 1.000, 0.320, 1.000); 
	     -o-transition: @property @duration cubic-bezier(0.230, 1.000, 0.320, 1.000); 
	        transition: @property @duration cubic-bezier(0.230, 1.000, 0.320, 1.000);
	
	-webkit-transition-timing-function: cubic-bezier(0.230, 1.000, 0.320, 1.000); 
	   -moz-transition-timing-function: cubic-bezier(0.230, 1.000, 0.320, 1.000); 
	     -o-transition-timing-function: cubic-bezier(0.230, 1.000, 0.320, 1.000); 
	        transition-timing-function: cubic-bezier(0.230, 1.000, 0.320, 1.000);
	        
	
	& when ( @delay > 0 ) {
		
		.transition-delay(@delay);
		
	}
}



@ir-ratio: 16/9;
@ir-width: 100%;
@ir-margin: auto;

.ir(@ratio: @ir-ratio, @width: @ir-width, @margin: @ir-margin) {
    position: relative;
    //margin: @margin;
    width: unit(@width, ~'%');
    height: 0;
    padding-bottom: unit(@width / @ratio, ~'%');
    > iframe, > video, > img, > div {
        position: absolute;
        width: 100%;
        height: 100%;
    }
}


/*

Icons

*/


.search-icon, .down-arrow, .up-arrow, .left-arrow, .right-arrow {
	display: inline-block;
	font: normal normal normal 14px/1 FontAwesome;
	line-height: 1;
	font-size: inherit;
	text-rendering: auto;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;

}

.down-arrow:before {
	font-family: FontAwesome;
	content: "\f107";
	font-size: 2em;
}

.up-arrow:before {
	font-family: FontAwesome;
	content: "\f106";
}

.left-arrow:before {
	font-family: FontAwesome;
	content: "\f104";
}

.right-arrow:before {
	font-family: FontAwesome;
	content: "\f105";
}

.slick-next:before {
	font-family: FontAwesome;
	content: "\f105";
}


.slick-prev:before {
	font-family: FontAwesome;
	content: "\f104";
}

/*

Typography

*/







body, h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4 {
	font-family: @primary-font;
	font-weight: 300;
}

p {
	font-family: @body-font;
}

::selection {  /* WebKit/Blink Browsers */
	.backgroundRGBa();
	color: @primary-light;
}
::-moz-selection { /* Gecko Browsers */
	.backgroundRGBa();
	color: @primary-light;
}

/*

Interface

*/

.input-group .input-group-btn .btn {
	border-radius: 0;
}


.btn {
	border-radius: 0;
	margin: 0;
}

.dark {
	.backgroundRGBa();
	color: @primary-light;
	
	a {
		color: #ffffff;
	}
	
	a:hover,
	a:focus {
		color: @primary-light;
	}
	
	.btn {
		color: #ffffff;
	}
	
	.btn:not([class^="btn btn-"]):hover, .btn-default:hover {
		background-color: @primary-dark;
		color: @primary-light;
	}
	
	.btn:not([class^="btn btn-"]):hover {
		
	}

}


.light {
	.backgroundRGBa( @primary-light );
	color: @primary-dark;
	
	a {
		color: @secondary-dark;
	}
	
	a:hover,
	a:focus {
		color: @primary-dark;
	}
}


.switch-input {
	display: block;
	font-size: 1em;
	position: relative;
	width: 220px;
	height: 2.3em;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
	border: 1px solid @primary-dark;
	
	&:hover,
	&:after:hover {
		cursor: pointer;
	}
	
	
	.switch-input-box {
		position: absolute;
		left: 0;
		top: 0;
		width: 75%;
		height: 100%;
		font-size: 1em;
		line-height: 1.75em;
		text-indent: 1em;
		margin: 0;
		padding: 0.17em 0;
		border: none;
		outline: none;
		
		&::-webkit-input-placeholder {
			&:extend(&:-moz-placeholder);
			&:extend(&::-moz-placeholder);
			&:extend(&:-ms-input-placeholder);
			color: #ffffff;
		}

	}
	
	span {
		display: block;
		position: absolute;
		cursor: pointer;
		
		&.front-button {
			position: absolute;
			z-index: 3;
			padding: 0.4em;
			color: @primary-light;
			text-align: center;
			white-space: nowrap;
			overflow: hidden;
			width: 220px;
			height: 100%;
			top: 0;
			right: 0;
			//border: 1px solid @primary-light;
			
			.backgroundRGBa();
			
			.transition();
			
			&:before {
				content: attr(data-message);
				/* content: "Share to Phone"; */
			}
		}
	}
	
	&.opened {
		
		span {
			display: block;
			position: absolute;
			
			&.inner-button {
				.transition();
				width: 70px;
			}
			
			&.front-button {
				width: 60px;
				
				&:before {
					content: "Close";
				}
			}
		}
		
	}
	
	&.valid-number span.front-button{
		border: 1px solid @primary-light;
		&:hover { border-color: #ffffff; }
		&:active { background-color: #f1f1f1; }
		&:before { content: "Send"; }
	}
	
	&.message-sending span.front-button:before {
		content: "Sending...";
	}
	&.message-sent span.front-button:before {
		content: "Thank You!";
	}
	&.message-fail span.front-button:before {
		content: "Something went wrong";
		color: #ff0000;
	}

}




/*

Body

*/


body {
	background-color: @primary-light;
	font-size: 16px;
}

.wrap {
	padding-top: 3em;
	padding-bottom: 3em;
}


/*

Menu

*/


.navbar, .navbar-default {
	position: absolute;
	left: 0;
	right: 0;
	
	.backgroundRGBa(@primary-dark, 0.98);
	
}

.nav > li > a:hover, .nav > li > a:focus {
	text-decoration: none;
	background-color: transparent;
}

.navbar .navbar-nav {
	width: 100%;
	
	&#menu-primary-navigation > li {	
	
		font-size: 0;
		
		> a {	
			padding: 20px 0;
			font-size: initial;
			letter-spacing: 0.05em;
		}
	}
	
}

.menu-item {
	text-align: center;
	z-index: 0;
	font-weight: 500;
}

.primary-nav {

	.menu-item {
		text-transform: uppercase;
	}
	
	.menu-item:after {
		content: " ";
		position: absolute;
		bottom: 0;
		left: 0;
		background: @primary-light;
		width: 100%;
		height: 0px;
		z-index: -1;
		
		.transition( height, 250ms);
	}
	
	.menu-item:hover:after {
		height: 5px;
	}
	
	.menu-item.active, .menu-item.active:hover {
		color: @primary-dark;
		.backgroundRGBa(@primary-light);
	}
	
	.menu-outer-item {
		font-size: 1.2em;
		text-align: center;
	}

	
}

.expanded-nav {
	
	opacity: 0;
	height: 0;
	display: none;
	overflow: hidden;
	
	.transition( opacity, 750ms);
	
	&.expanded-nav-open {
		opacity: 1;
		display: block;
	}
	
	a {
		color: @primary-light;
		&:hover {text-decoration: none;}
	}
	
	ul {
		list-style: none;
		position: relative;
		padding-left: 0;
	}
	
	li {
		position: relative;
		padding: 0 1em;
		cursor: pointer;
		li li {
			padding: 0;
			font-size: 0.85em;
		}
	}
	
	
	>ul {//#menu-expanded-navigation
		padding-bottom: 2em;
		>li {
			>a { //Column headers
				font-size: 0.7em;
				font-weight: 500;
				text-transform: uppercase;
				text-align: center;
			}
			
			>ul {
				font-size: 1.2em;
				
				>li {
					
					padding-top: 1em;
					padding-bottom: 1.5em;
					border-left: 1px solid;
					border-bottom: 1px solid;
					border-color: @secondary-dark;
					
					&:hover {
						border-color: #ffffff;
					}
					
					>a { //List Headers
						font-size: 1.2em;
					}
					
					>ul {
						padding-left: 1em;
						
						a {
							font-weight: 200;
						}
						
						li:hover > a {
							color: #fff;
							font-weight: 300;
						}
						
						>li {
							padding: 0.4em 0;
						}
					}
				}
			}
		}
	}
	
	.sub-menu {
		
		list-style: none;
		
		li {
			padding-right: 0;
		}
		
	}
	
}




/*

Hero

*/

.hero-section {
	overflow: hidden;
	margin-bottom: 0;
	
	.transition();
	
	.hero-slide {
		height: 100%;
	}
	
}

.foreground {
	//height: 100%;
	
	.hero-slick & {
		max-width: 1140px;
    	.ir();
    }
	
	position: relative;
	top: 0;
	bottom: 0; 
	left: 0;
	right: 0;
	height: 100%;
	
	.container {
		padding: 10% 0;
		text-align: center;
		
		//css-tricks.com/centering-css-complete-guide/
		height: 100%;
		&:before{
			content: '';
			display: inline-block;
			height: 100%; 
			vertical-align: middle;
			margin-right: -0.25em;
		}
	}
}

.hero-container {
	
	position: relative;
	overflow: hidden;
	
	h1, h2, h3 {
		text-transform: uppercase;
		font-weight: 600;
		letter-spacing: 0.1em;
	}
	
	&.hero-media {
		
		.hero-organism {
			position: relative;
			height: 100%;
			img {
				width: 100%;
				position: absolute;
				
				.transition( margin, 750ms);
				
			}
		}
		
		.page-header {
			//position: absolute;
			//top: 30%;
			//width: 100%;
			text-align: center;
			display: inline-block;
			vertical-align: middle;
			color: #ffffff;
			text-shadow: 0 0 2px rgba(0, 0, 0, 1.0);
			
			h1 {
				font-size: 3em;
				font-weight: 700;
			}
		}
	}
	
	&.hero-text {
		padding-top: 60px;
	}
	
	.read-more {
	
		position: absolute;
		bottom: -20%;
		left: 50%;
		width: 100px;
		margin-left: -50px;
		padding-top: 5px;
		text-align: center;
	
		color: #ffffff;
		text-transform: uppercase;
		text-shadow: 0 0 2px rgba(0, 0, 0, 1.0);
		font-weight: 500;
		
		.backgroundRGBa(@primary-dark, 0.9);
		
		.transition( bottom , 750ms );
		
		span {
			line-height: 1em;
		}
		
		.down-arrow {
			line-height: 0.4em;
		}
			
		
	}
	
	
	&:hover{
		
		.slick-prev,.slick-next {
			.backgroundRGBa(@primary-dark, 0.9);
		}
		
		.slick-prev {
			left: 25px;
		}
		
		.slick-next {
			right: 25px;
		}
		
		.read-more {
			bottom: 0;
			
			.transition-delay( 500ms );
			
			//.transition( bottom , 750ms, 500ms );
		}
		
	}
	
}

.social-container {
	
	.social-bar-item {
		text-align: center;
		padding: 15px;
	}
	
	
}

.page-header {
	border-bottom: initial;
}


/*

Footer

*/

.footer {
	section {
		min-height: 220px;
	}
	
	> .container {
		margin-bottom: 100px;
	}
}

.copyright {
	text-align: center;
	padding: 2em;
}


/*

Widgets

*/

/* Widgets Head */
.widget {
	
	> h3 {
		text-transform: uppercase;
	}
	
}




/*

Organisms

*/

.frame {
	
	.slick-slider {
		padding: 0;
		margin-bottom: 0;
	}
	
	/* Boxes */
	
	li img {
		width: 100%;
		
		.transition( opacity , 750ms );
	}
	
	ul li {
		position: relative;
		text-align: center;
		cursor: pointer;
		overflow: hidden;
	}
	
	
	.box-box {
		
		position: relative;
		overflow: hidden;
		margin: 2px;
		.ir();
	
		@anim-dir: left;
		
		.box-header, .box-caption, &:after {
			position: absolute;
			right: 0;
			left: 0;
			
			color: #fff;
			
			.transition( @anim-dir , 750ms );
		}
		
		&:after {
		    content: "";
		    display: block;
		    top: 0;
		    bottom: 0;
		    box-shadow: 0 1px 0 #000;
		    pointer-events: none;
		    
		    z-index: -1;
		    
		    background: @primary-dark;
		    //.scrim();
		}
		
		
		&:hover {
			
			.box-image {
				opacity: 0.3;
			}
			
			.box-header {
				left: 0;
			}
			
			.box-date {
				left: 0;
			}
			
			&:after {
				//height: 80%;
			}
			
		}
		
		
		.box-header {
			&:before{
				content: '';
				display: inline-block;
				height: 100%; 
				vertical-align: middle;
				margin-right: -0.25em;
			}
			h3 {margin: 0;}
			.box-header-content {
				display: inline-block;
				vertical-align: middle;
			}
			top: 0;
			bottom: 0;
			left: -100%;
			width: 100%;
			
			text-align: left;
			z-index: 1;
			padding: 0.8em;
			font-weight: 600;
			overflow: hidden;
			text-shadow: 0 0 4px #000;
			line-height: 1em;
		}
		
		.box-date {
			position: relative;
			font-size: 0.85em;
			font-weight: 300;
			text-shadow: 0 0 4px #000;
			box-sizing: content-box;
			width: auto;
			left: -100%;
			pointer-events: none;
			z-index: 1;
			
			.transition( @anim-dir , 500ms, 150ms );
		}
		
		.box-caption {
			display: none;
		}
		
		
		.double-stacked & {
			
			.box-header h3 {
				font-size: 1.2em;
			}
			
		}
		
	}
	
	
	/* Controls */
	.slick-prev, .slick-next{
		&:before {
			color: @primary-dark;
		}
	}
	
}

.text-overlay {
	
	.box-box {
		
		.box-image {
			opacity: 0.3;
		}
		
		.box-header {
			left: 0;
		}
		
		.box-date {
			left: 0;
		}
	}
	
}

.slick-prev {
	left: -50px;
}

.slick-next {
	right: -50px;
}

.slick-prev, .slick-next {
	height: 40px;
	width: 40px;
	
	&:before {
		font-size: 40px;
		
		.transition( opacity , 250ms );
	}
	
	
	&.slick-disabled {
		&:before {
			opacity: 0;
			
			
		}
	}

	.transition( all, 750ms);
}



.thin-promos {

	margin-left:	0;
	margin-right:	0;
	
	>.wpb_column {
		padding: 0 1px;

		.wpb_single_image {
			background: @primary-dark;
			
			.wpb_wrapper {
				.ir();
			}
			
			img {
				opacity: 0.2;
				left: 0;
			}
		}
		
		.wpb_text_column {
			position: absolute;
			top: 30%;
			left: 10%;
			text-transform: uppercase;
			color: #fff; 
		}
	}
	
	.wpb_content_element {
		margin-bottom: 2px;
	}
	
}




/*

Pages

*/


.home .wrap {
	padding-top: 0.5em;
}

/* 

Events

*/


/* Calendar */

.timely {
	font-family: @primary-font;
	font-size: 1em;
	color: @primary-dark;
	
	//light
	.ai1ec-calendar-toolbar,
	table.ai1ec-month-view {
		color: @primary-dark;
		background-color: @primary-light;
	}
	
	.ai1ec-month-view .ai1ec-date {
		background: transparent;
		line-height: 1.8em;
		height: auto;
		padding-top: 0.7em;
		a {
			color: @primary-dark;
			text-shadow: none;
			font-size: 1.4em;
		}
		
	}
	
	.ai1ec-btn-group > .ai1ec-btn-sm {
		font-size: 1em;
	}
	
	//border
	.ai1ec-month-view td, 
	.ai1ec-week-view td, 
	.ai1ec-oneday-view td {
		border: 0px solid @secondary-light !important;
		border-left-width: 2px !important;
		border-bottom-width: 2px !important;
	}
	
	//Freakin !imporant overrides
	.ai1ec-month-view th {
		color: @primary-light !important;
		background-color: @primary-dark !important;
		text-shadow: none;
	}
	
	.ai1ec-month-view td.ai1ec-empty {
		background: @secondary-light !important;
	}
	
}

/*

Media Queries

*/

/* Large Devices, Wide Screens */
@media only screen and (max-width : 1200px) {

}

/* Medium Devices, Desktops */
@media only screen and (max-width : 992px) {
	.navbar .navbar-nav > li > a {
		padding: 15px 0;
	}
	
	.navbar.navbar-default {
		position: relative;
		margin-bottom: 0;
	}
}

/* Small Devices, Tablets */
@media only screen and (max-width : 768px) {
	.navbar.navbar-default {
		position: relative;
	}
}

/* Extra Small Devices, Phones */ 
@media only screen and (max-width : 480px) {
	.navbar .navbar-nav > li > a {
		padding: 7px 0;
	}
}

/* Custom, iPhone Retina */ 
@media only screen and (max-width : 320px) {
    
}

/* Animation */
	
	//cubic-bezier(0.230, 1.000, 0.320, 1.000)

    //Fallback
    .no-cssanimations .fadeIn {
        opacity: 1;
    }
    
    //EaseOutQuint
    .fadeIn {
	    -webkit-transition-timing-function:	cubic-bezier(0.230, 1.000, 0.320, 1.000); /* Safari and Chrome */
		transition-timing-function:			cubic-bezier(0.230, 1.000, 0.320, 1.000);
    }


	/* Animation Times - Time for image to fade in
	---------------------------------------------------- */
	.animated-3s {
	        -webkit-animation-duration:3s;
	        -moz-animation-duration:3s;
	        -o-animation-duration:3s;
	        animation-duration:3s;
	}
	.animated-5s {
	        -webkit-animation-duration:5s;
	        -moz-animation-duration:5s;
	        -o-animation-duration:5s;
	        animation-duration:5s;
	}
	/* Animation Delay - Time for image to be delayed
	---------------------------------------------------- */
	.animated-delay-1s {
	        -webkit-animation-delay:1s;
	        -moz-animation-delay:1s;
	        -o-animation-delay:1s;
	        animation-delay:1s;
	}
	.animated-delay-3s {
	        -webkit-animation-delay:3s;
	        -moz-animation-delay:3s;
	        -o-animation-delay:3s;
	        animation-delay:3s;
	}
	.animated-delay-5s {
	        -webkit-animation-delay:5s;
	        -moz-animation-delay:5s;
	        -o-animation-delay:5s;
	        animation-delay:5s;
	}

/*

Cheats

*/


.ir { .ir(); }

.ir-hd { .ir(16/9); }
.ir-square { .ir(1/1); }


/* Bootstrap No Padding */
.row > .nopadding,
.container-fluid.nopadding {
   padding-left: 0 !important;
   padding-right: 0 !important;
   margin: 0 !important;
}


/* Key Frames
---------------------------------------------------- */
@-webkit-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@-moz-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@-o-keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
@keyframes fadeIn { from { opacity:0; } to { opacity:1; } }